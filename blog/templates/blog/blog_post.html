{% extends "base.html" %}
{% load staticfiles %}
{% load comments %}
{% load comments_xtd %}
{% block content %}

    {% load markdown_deux_tags %}

    <div class="w3-content w3-container w3-padding-32">
        <h1 class="w3-jumbo w3-hide-small">{{ blog_post.post_title }}</h1>
        <h1 class="w3-xxxlarge w3-hide-large w3-hide-medium">{{ blog_post.post_title }}</h1>
        <p style="font-family: 'Share Tech Mono', monospace;">By <a
                href="/about">{{ blog_post.post_author.get_full_name }}</a> on {{ blog_post.post_publish|date }}&nbsp;&bull;&nbsp;
            <a href="#comment-section">{% get_comment_count for blog_post as comment_count %}{{ comment_count }}
                comments</a></p>

        <br>
        <div class="w3-threequarter">
            <article class="w3-large" style="line-height: 1.9">
                {{ blog_post.post_body|markdown }}
            </article>

            {% with blog_post as object %}
                <br>
                {% get_comment_count for object as comment_count %}
                <h6>{{ comment_count }} comments have been posted.</h6>
                <br>

                {% render_comment_form for object %}
                {% if comment_count %}
                    <div class="ui threaded comments" id="comment-section">
                        <h5 class="w3-opacity ui dividing header">COMMENTS<a>
                            <div class="w3-right w3-opacity">Most Recent <i class="caret down icon"></i></div>
                        </a></h5>
                        {% render_xtdcomment_tree for object %}
                    </div>
                {% endif %}
            {% endwith %}
            <div class="w3-quarter w3-padding-16 w3-padding-large">
                <br>
            </div>
        </div>
    </div>
{% endblock %}


